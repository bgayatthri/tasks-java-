import java.util.*;
import java.util.stream.*;

public class AccessElementFP {
    public static void main(String[] args) {
        List<Integer> list = Arrays.asList(10, 20, 30, 40, 50);
        int index = 2;

        Optional<Integer> element =
                IntStream.range(0, list.size())
                         .filter(i -> i == index)
                         .mapToObj(list::get)
                         .findFirst();

        element.ifPresentOrElse(
                e -> System.out.println("Element = " + e),
                () -> System.out.println("Invalid index")
        );
    }
}

